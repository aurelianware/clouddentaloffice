@page "/settings"
@inject ISnackbar Snackbar

<PageTitle>Settings - Cloud Dental Office</PageTitle>

<MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="mt-4">
    <MudPaper Class="pa-4" Style="background: #0a0a0a; border: 1px solid #00ffff;">
        <MudStack Row="true" Justify="Justify.SpaceBetween" AlignItems="AlignItems.Center">
            <div>
                <MudText Typo="Typo.h4" Style="color: #00ffff; font-weight: bold;">
                    <MudIcon Icon="@Icons.Material.Filled.Settings" Class="mr-2" />
                    Settings
                </MudText>
                <MudText Typo="Typo.body2" Style="color: #b0b0b0;">
                    Configure practice settings and preferences
                </MudText>
            </div>
        </MudStack>
    </MudPaper>

    <MudGrid Class="mt-4">
        <!-- Practice Information -->
        <MudItem xs="12" md="6">
            <MudPaper Class="pa-4" Style="background: #0a0a0a; border: 1px solid rgba(0, 255, 255, 0.3);">
                <MudText Typo="Typo.h6" Style="color: #00ffff;" Class="mb-3">
                    <MudIcon Icon="@Icons.Material.Filled.Business" Class="mr-2" />
                    Practice Information
                </MudText>
                <MudStack Spacing="3">
                    <MudTextField Label="Practice Name" Variant="Variant.Outlined" 
                                  Value="@("Cloud Dental Office")" ReadOnly="@true" />
                    <MudTextField Label="Address" Variant="Variant.Outlined" 
                                  Value="@("123 Main St, Suite 100")" ReadOnly="@true" />
                    <MudTextField Label="Phone" Variant="Variant.Outlined" 
                                  Value="@("(555) 123-4567")" ReadOnly="@true" />
                    <MudTextField Label="Email" Variant="Variant.Outlined" 
                                  Value="@("contact@clouddentaloffice.com")" ReadOnly="@true" />
                    <MudButton Variant="Variant.Filled" Color="Color.Primary" 
                               OnClick="OnEditPracticeInfo">
                        Edit Practice Info
                    </MudButton>
                </MudStack>
            </MudPaper>
        </MudItem>

        <!-- EDI Configuration -->
        <MudItem xs="12" md="6">
            <MudPaper Class="pa-4" Style="background: #0a0a0a; border: 1px solid rgba(0, 255, 255, 0.3);">
                <MudText Typo="Typo.h6" Style="color: #00ffff;" Class="mb-3">
                    <MudIcon Icon="@Icons.Material.Filled.Cloud" Class="mr-2" />
                    EDI Configuration
                </MudText>
                <MudStack Spacing="3">
                    <MudTextField Label="Sender ID" Variant="Variant.Outlined" 
                                  Value="@("CLOUDDENTAL001")" ReadOnly="@true" />
                    <MudTextField Label="Receiver ID" Variant="Variant.Outlined" 
                                  Value="@("EDI_CLEARINGHOUSE")" ReadOnly="@true" />
                    <MudTextField Label="API Endpoint" Variant="Variant.Outlined" 
                                  Value="@("https://edi.cloudhealthoffice.com/api")" ReadOnly="@true" />
                    <MudSwitch T="bool" Label="Enable Electronic Claims Submission" 
                               Color="Color.Primary" Checked="true" Disabled="@true" />
                    <MudButton Variant="Variant.Filled" Color="Color.Primary"
                               OnClick="OnConfigureEdi">
                        Configure EDI
                    </MudButton>
                </MudStack>
            </MudPaper>
        </MudItem>

        <!-- User Preferences -->
        <MudItem xs="12" md="6">
            <MudPaper Class="pa-4" Style="background: #0a0a0a; border: 1px solid rgba(0, 255, 255, 0.3);">
                <MudText Typo="Typo.h6" Style="color: #00ffff;" Class="mb-3">
                    <MudIcon Icon="@Icons.Material.Filled.Person" Class="mr-2" />
                    User Preferences
                </MudText>
                <MudStack Spacing="3">
                    <MudSelect T="string" Label="Date Format" Variant="Variant.Outlined" Value="@("MM/dd/yyyy")">
                        <MudSelectItem Value='"MM/dd/yyyy"'>MM/DD/YYYY</MudSelectItem>
                        <MudSelectItem Value='"dd/MM/yyyy"'>DD/MM/YYYY</MudSelectItem>
                        <MudSelectItem Value='"yyyy-MM-dd"'>YYYY-MM-DD</MudSelectItem>
                    </MudSelect>
                    <MudSelect T="string" Label="Time Zone" Variant="Variant.Outlined" Value="@("America/New_York")">
                        <MudSelectItem Value='"America/New_York"'>Eastern Time</MudSelectItem>
                        <MudSelectItem Value='"America/Chicago"'>Central Time</MudSelectItem>
                        <MudSelectItem Value='"America/Denver"'>Mountain Time</MudSelectItem>
                        <MudSelectItem Value='"America/Los_Angeles"'>Pacific Time</MudSelectItem>
                    </MudSelect>
                    <MudSwitch T="bool" Label="Enable Email Notifications" 
                               Color="Color.Primary" Checked="true" />
                    <MudSwitch T="bool" Label="Enable SMS Reminders" 
                               Color="Color.Primary" Checked="false" />
                    <MudButton Variant="Variant.Filled" Color="Color.Primary"
                               OnClick="OnSavePreferences">
                        Save Preferences
                    </MudButton>
                </MudStack>
            </MudPaper>
        </MudItem>

        <!-- Security Settings -->
        <MudItem xs="12" md="6">
            <MudPaper Class="pa-4" Style="background: #0a0a0a; border: 1px solid rgba(0, 255, 255, 0.3);">
                <MudText Typo="Typo.h6" Style="color: #00ffff;" Class="mb-3">
                    <MudIcon Icon="@Icons.Material.Filled.Security" Class="mr-2" />
                    Security Settings
                </MudText>
                <MudStack Spacing="3">
                    <MudSwitch T="bool" Label="Require Strong Passwords" 
                               Color="Color.Primary" Checked="true" Disabled="@true" />
                    <MudSwitch T="bool" Label="Enable Two-Factor Authentication" 
                               Color="Color.Primary" Checked="false" />
                    <MudSwitch T="bool" Label="Session Timeout (30 minutes)" 
                               Color="Color.Primary" Checked="true" Disabled="@true" />
                    <MudSwitch T="bool" Label="Audit Logging Enabled" 
                               Color="Color.Primary" Checked="true" Disabled="@true" />
                    <MudButton Variant="Variant.Outlined" Color="Color.Warning"
                               OnClick="OnChangePassword">
                        Change Password
                    </MudButton>
                </MudStack>
            </MudPaper>
        </MudItem>

        <!-- Appointment Settings -->
        <MudItem xs="12" md="6">
            <MudPaper Class="pa-4" Style="background: #0a0a0a; border: 1px solid rgba(0, 255, 255, 0.3);">
                <MudText Typo="Typo.h6" Style="color: #00ffff;" Class="mb-3">
                    <MudIcon Icon="@Icons.Material.Filled.Event" Class="mr-2" />
                    Appointment Settings
                </MudText>
                <MudStack Spacing="3">
                    <MudTextField Label="Default Appointment Duration (minutes)" 
                                  Variant="Variant.Outlined" Value="60" Type="number" />
                    <MudTextField Label="Appointment Reminder (hours before)" 
                                  Variant="Variant.Outlined" Value="24" Type="number" />
                    <MudButton Variant="Variant.Filled" Color="Color.Primary"
                               OnClick="OnSaveAppointmentSettings">
                        Save Settings
                    </MudButton>
                </MudStack>
            </MudPaper>
        </MudItem>

        <!-- Billing Settings -->
        <MudItem xs="12" md="6">
            <MudPaper Class="pa-4" Style="background: #0a0a0a; border: 1px solid rgba(0, 255, 255, 0.3);">
                <MudText Typo="Typo.h6" Style="color: #00ffff;" Class="mb-3">
                    <MudIcon Icon="@Icons.Material.Filled.Receipt" Class="mr-2" />
                    Billing Settings
                </MudText>
                <MudStack Spacing="3">
                    <MudTextField Label="Tax ID (EIN)" Variant="Variant.Outlined" 
                                  Value="@("12-3456789")" ReadOnly="@true" />
                    <MudTextField Label="Default Payment Terms (days)" 
                                  Variant="Variant.Outlined" Value="@("30")" Type="number" />
                    <MudSwitch T="bool" Label="Accept Credit Cards" 
                               Color="Color.Primary" Checked="true" />
                    <MudSwitch T="bool" Label="Accept ACH Payments" 
                               Color="Color.Primary" Checked="true" />
                    <MudButton Variant="Variant.Filled" Color="Color.Primary"
                               OnClick="OnSaveBillingSettings">
                        Save Settings
                    </MudButton>
                </MudStack>
            </MudPaper>
        </MudItem>
    </MudGrid>
</MudContainer>

@code {
    private void OnEditPracticeInfo()
    {
        Snackbar.Add("Edit practice info coming soon!", Severity.Info);
    }

    private void OnConfigureEdi()
    {
        Snackbar.Add("EDI configuration coming soon!", Severity.Info);
    }

    private void OnSavePreferences()
    {
        Snackbar.Add("Preferences saved!", Severity.Success);
    }

    private void OnChangePassword()
    {
        Snackbar.Add("Change password coming soon!", Severity.Info);
    }

    private void OnSaveAppointmentSettings()
    {
        Snackbar.Add("Appointment settings saved!", Severity.Success);
    }

    private void OnSaveBillingSettings()
    {
        Snackbar.Add("Billing settings saved!", Severity.Success);
    }
}
